{"version":3,"sources":["Auth.js","NavBar.js","Home/Home.js","Callback.js","SavedBooks/SavedBooks.js","Saved/Saved.js","Books/Books.js","Search/Search.js","SecuredRoute/SecuredRoute.js","App.js","serviceWorker.js","index.js"],"names":["require","config","auth0Client","this","auth0","WebAuth","domain","audience","clientID","redirectUri","responseType","scope","getProfile","bind","handleAuthentication","isAuthenticated","signIn","signOut","profile","idToken","Date","getTime","expiresAt","authorize","Promise","resolve","reject","parseHash","err","authResult","setSession","idTokenPayload","exp","logout","returnTo","checkSession","withRouter","props","className","to","id","onClick","name","history","replace","Home","Component","Callback","user","email","password","axios","post","then","data","catch","console","log","finally","SavedBooks","state","books","key","Math","random","imageLinks","src","smallThumbnail","alt","title","subtitle","handleRemoveClick","href","previewLink","target","rel","authors","map","author","Saved","getBooks","get","response","setState","length","book","location","Books","saved","handleSaveClick","Search","publisher","publishedDate","description","results","newBooks","forEach","ele","push","handleClick","event","search","volumeInfo","handleInputChange","value","htmlFor","type","onChange","placeholder","SecuredRoute","component","path","render","App","checkingSession","pathname","silentAuth","forceUpdate","error","Redirect","handleSearchClick","handleSavedClick","exact","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.36255cdf.chunk.js","sourcesContent":["import auth0 from 'auth0-js';\r\nrequire(\"dotenv\").config();\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.auth0 = new auth0.WebAuth({\r\n      // the following three lines MUST be updated\r\n      domain: \"dev-rh9lpgdj.auth0.com\",\r\n      audience: \"https://dev-rh9lpgdj.auth0.com/userinfo\",\r\n      clientID: \"riYMLk9TDLKlMGHiZ5ZveTmFRIhvv15l\",\r\n      redirectUri: 'http://localhost:8081/callback',\r\n      responseType: 'token id_token',\r\n      scope: 'openid profile email activity'\r\n    });\r\n\r\n    this.getProfile = this.getProfile.bind(this);\r\n    this.handleAuthentication = this.handleAuthentication.bind(this);\r\n    this.isAuthenticated = this.isAuthenticated.bind(this);\r\n    this.signIn = this.signIn.bind(this);\r\n    this.signOut = this.signOut.bind(this);\r\n  }\r\n\r\n  getProfile() {\r\n    return this.profile;\r\n  }\r\n\r\n  getIdToken() {\r\n    return this.idToken;\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return new Date().getTime() < this.expiresAt;\r\n  }\r\n\r\n  signIn() {\r\n    this.auth0.authorize();\r\n  }\r\n\r\n  handleAuthentication() {\r\n    return new Promise((resolve, reject) => {\r\n      this.auth0.parseHash((err, authResult) => {\r\n        if (err) return reject(err);\r\n        if (!authResult || !authResult.idToken) {\r\n          return reject(err);\r\n        }\r\n        this.setSession(authResult);\r\n        resolve();\r\n      });\r\n    })\r\n  }\r\n\r\n  setSession(authResult) {\r\n    this.idToken = authResult.idToken;\r\n    this.profile = authResult.idTokenPayload;\r\n    // set the time that the id token will expire at\r\n    this.expiresAt = authResult.idTokenPayload.exp * 1000;\r\n  }\r\n\r\n\r\n  signOut() {\r\n    this.auth0.logout({\r\n      returnTo: 'http://localhost:8081',\r\n      clientID: 'riYMLk9TDLKlMGHiZ5ZveTmFRIhvv15l',\r\n    });\r\n  }\r\n  silentAuth() {\r\n    return new Promise((resolve, reject) => {\r\n      this.auth0.checkSession({}, (err, authResult) => {\r\n        if (err) return reject(err);\r\n        this.setSession(authResult);\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nconst auth0Client = new Auth();\r\n\r\nexport default auth0Client;","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport auth0Client from './Auth';\r\n\r\nfunction NavBar(props) {\r\n\r\n  const signOut = () => {\r\n    auth0Client.signOut();\r\n    props.history.replace('/');\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-dark bg-primary fixed-top mb-4\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        Google Book Search App\r\n      </Link> \r\n      {\r\n          auth0Client.isAuthenticated() &&\r\n          <div>\r\n            <Link className=\"btn btn-dark\" id=\"Search\" to=\"/search\">Search</Link>\r\n            <Link className=\"btn btn-dark\" id=\"Saved\" to=\"/saved\">Saved</Link>\r\n          </div>\r\n        }\r\n      {\r\n        !auth0Client.isAuthenticated() &&\r\n        <button className=\"btn btn-dark\" id=\"navSignInBtn\" onClick={auth0Client.signIn}>Sign In</button>\r\n      }\r\n      {\r\n        auth0Client.isAuthenticated() &&\r\n        <div id=\"navSignOutBtn\" >\r\n          <label className=\"mr-2 text-white\">{auth0Client.getProfile().name}</label>\r\n          <button className=\"btn btn-dark\" onClick={() => { signOut() }}>Sign Out</button>\r\n        </div>\r\n      }\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default withRouter(NavBar);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport auth0Client from '../Auth';\r\n\r\n\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container mobileReady\">\r\n        {\r\n          !auth0Client.isAuthenticated() &&\r\n          <div>\r\n            <h1>Please Sign In</h1>\r\n            <button className=\"btn btn-dark\" onClick={auth0Client.signIn}>Sign In</button>\r\n          </div>\r\n        }\r\n        {\r\n          auth0Client.isAuthenticated() &&\r\n          <div>\r\n            <h1 className=\"mr-2 text-white\">Welcome {auth0Client.getProfile().name}!</h1>\r\n            <Link to=\"/search\" className=\"btn btn-primary\">Search For Books</Link><span> </span>\r\n            <Link to=\"/saved\" className=\"btn btn-primary\">Your Saved Books</Link>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport auth0Client from './Auth';\r\nimport axios from \"axios\";\r\n\r\n\r\nclass Callback extends Component {\r\n  async componentDidMount() {\r\n    await auth0Client.handleAuthentication();\r\n    const profile = auth0Client.getProfile()\r\n    let user={\r\n      name: profile.name,\r\n      email: profile.email || \"\",\r\n      password:profile.password || \"\",\r\n      idToken:profile.idToken || \"\"\r\n    }\r\n    axios.post(\"/user\",user).then(data=>{\r\n    }).catch(err=>console.log(err)).finally(()=>{\r\n      this.props.history.replace('/');\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <p>Loading profile...</p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Callback);","import React,{Component} from 'react';\r\nimport './animate.css';\r\n\r\n\r\nclass SavedBooks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      books: []\r\n    };\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"card mb-3 animated fadeInDownBig\" key={Math.random()}>\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-md-4\">\r\n            {this.props.imageLinks ? (\r\n              <img src={ this.props.imageLinks[0].smallThumbnail}  className=\"card-img img-thumbnail\" alt={this.props.title} />\r\n              ):(\r\n                <img src=\"./stock.jpg\" className=\"card-img img-thumbnail\" alt={this.props.title} />\r\n            ) }\r\n          </div>\r\n          <div className=\"col-md-8\">\r\n            <div className=\"card-body\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-8\">\r\n                  <h5 className=\"card-title\">Title: {this.props.title}</h5>\r\n                  <p className=\"card-text\"><small className=\"text-muted\">{this.props.subtitle}</small></p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <button className=\"btn btn-primary m-1\" onClick={()=>this.props.handleRemoveClick(this.props.title)} >Remove</button>\r\n                  <a href={this.props.previewLink} className=\"btn btn-primary m-1\"  target=\"_blank\" rel=\"noopener noreferrer\">View</a>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                {this.props.authors ? (\r\n                  <div>\r\n                  <p>Authors:</p>\r\n                  {this.props.authors.map(author=>(\r\n                    <p key={Math.random()}>{author}</p>\r\n                  ))}\r\n                  </div>\r\n                ):(\r\n                  <div></div>\r\n                )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SavedBooks","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport auth0Client from '../Auth';\r\nimport SavedBooks from \"../SavedBooks/SavedBooks\"\r\n\r\nclass Saved extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      books:[]\r\n    };\r\n  }\r\n\r\n\r\n  getBooks = ()=>{\r\n    let name = auth0Client.getProfile().name\r\n    axios.get(`/user/${name}`)\r\n    .then(response=>{\r\n      console.log(response.data)\r\n      this.setState({\r\n        books: response.data\r\n      })\r\n    })\r\n    .catch(err=>console.log(err))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getBooks();\r\n  }\r\n\r\n  handleRemoveClick = (title)=>{\r\n    console.log(\"remove Button clicked \" + title)\r\n    axios.post(`/removeUserBook`,{name:auth0Client.getProfile().name,title:title})\r\n    .then(response=>{\r\n      console.log(response)\r\n      this.getBooks(); \r\n    })\r\n    .catch(err=>console.log(err))\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"container mobileReady\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n          {this.state.books.length ? (\r\n            <div>\r\n              {this.state.books.map(book => (\r\n                <SavedBooks {...book} location=\"saved\" handleRemoveClick={this.handleRemoveClick} getBooks={this.getBooks} key={Math.random()} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n              <div>\r\n                <h1>No Books Found</h1>\r\n              </div>\r\n            )\r\n          }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Saved;","import React, { Component } from 'react';\r\nimport './animate.css';\r\n\r\n\r\nclass Books extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      books: []\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      this.props.saved === false ?\r\n        (\r\n          <div className=\"card mb-3\" key={Math.random()} id={this.props.title}>\r\n            <div className=\"row no-gutters\" key={Math.random()}>\r\n              <div className=\"col-md-4\" key={Math.random()}>\r\n                {this.props.imageLinks ? (\r\n                  <img src={this.props.imageLinks.smallThumbnail} className=\"card-img img-thumbnail\" alt={this.props.title} key={Math.random()}/>\r\n                ) : (\r\n                    <img src=\"./stock.jpg\" className=\"card-img img-thumbnail\" alt={this.props.title} key={Math.random()}/>\r\n                  )}\r\n              </div>\r\n              <div className=\"col-md-8\" key={Math.random()}>\r\n                <div className=\"card-body\" key={Math.random()}>\r\n                  <div className=\"row\" key={Math.random()}>\r\n                    <div className=\"col-md-8\" key={Math.random()}>\r\n                      <h5 className=\"card-title\" key={Math.random()}>Title: {this.props.title}</h5>\r\n                      <p className=\"card-text\" key={Math.random()}><small className=\"text-muted\">{this.props.subtitle}</small></p>\r\n                    </div>\r\n                    <div className=\"col-md-4\" key={Math.random()}>\r\n                      <button key={Math.random()} className=\"btn btn-primary m-1\" onClick={() => this.props.handleSaveClick(this.props)}>Save</button>\r\n                      <a href={this.props.previewLink} className=\"btn btn-primary m-1\" target=\"_blank\" rel=\"noopener noreferrer\" key={Math.random()}>View</a>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\" key={Math.random()}>\r\n                      {this.props.authors ? (\r\n                        <div>\r\n                          <p key={Math.random()}>Authors:</p>\r\n                          {this.props.authors.map(author => (\r\n                            <p key={Math.random()}>{author}</p>\r\n                          ))}\r\n                        </div>\r\n                      ) : (\r\n                          <div key={Math.random()}></div>\r\n                        )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n        :\r\n        (\r\n          <div className=\"text-center animated fadeIn\"><h3>{this.props.title} has been Saved!</h3></div>\r\n        )\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default Books","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Books from '../Books/Books'\r\nimport auth0Client from \"../Auth\"\r\nimport \"../App.css\"\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      books: [],\r\n      search: \"\"\r\n    };\r\n  }\r\n\r\n  handleSaveClick= (props)=> {\r\n    console.log(props)\r\n    const { title, subtitle, authors, publisher, publishedDate, previewLink, imageLinks, description } = props\r\n    axios.post(\"/savebook\", {\r\n      title: title,\r\n      subtitle: subtitle,\r\n      authors: authors,\r\n      publisher: publisher,\r\n      publishedDate: publishedDate,\r\n      previewLink: previewLink,\r\n      imageLinks: imageLinks,\r\n      description: description,\r\n      user: auth0Client.getProfile()\r\n    })\r\n      .then(results => {\r\n        let newBooks = []\r\n        this.state.books.forEach(ele=>{\r\n          if(ele.title===title){\r\n            ele.saved=true;\r\n            newBooks.push(ele)\r\n          }else{\r\n            newBooks.push(ele)\r\n          }\r\n        })\r\n        this.setState({\r\n          books:newBooks\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleClick = event => {\r\n    console.log(this.state.search)\r\n    axios.get(`/getbooks/${this.state.search}`).then((response) => {\r\n      console.log(response)\r\n      let data = []\r\n      data = response.data.map(ele => {\r\n        ele.volumeInfo.saved = false;\r\n        return ele.volumeInfo\r\n      })\r\n      //this set state is working\r\n      this.setState({\r\n        books: [...data],\r\n        search: \"\"\r\n      })\r\n\r\n    }).catch(err => console.log(err))\r\n\r\n  }\r\n\r\n  handleInputChange = event => {\r\n    // Getting the value and name of the input which triggered the change\r\n    const { name, value } = event.target;\r\n\r\n    // Updating the input's state\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container mobileReady\">\r\n        <div className=\"row mb-4\">\r\n          <div className=\"form col-md-10\">\r\n            <label htmlFor=\"search\">Search</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"search\" name=\"search\" value={this.state.search} onChange={this.handleInputChange} placeholder=\"Search Title\" />\r\n          </div>\r\n          <div className=\"col-md-2 align-self-end\">\r\n            <button type=\"submit\" className=\"btn btn-primary\"  onClick={this.handleClick} >Submit</button>\r\n          </div>\r\n        </div>\r\n        {this.state.books.length ? (\r\n          <div>\r\n            {this.state.books.map(book => (\r\n              <Books {...book} location=\"search\" handleSaveClick={this.handleSaveClick} key={Math.random()} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n            <div>\r\n              <h1>No Books Found</h1>\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\nexport default withRouter(Search);","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport auth0Client from '../Auth';\r\n\r\nfunction SecuredRoute(props) {\r\n  const { component: Component, path } = props;\r\n  return (\r\n    <Route path={path} render={() => {\r\n      // if (checkingSession) return <h3 className=\"text-center\">Validating session...</h3>;\r\n      if (!auth0Client.isAuthenticated()) {\r\n        console.log(auth0Client.isAuthenticated())\r\n        auth0Client.signIn();\r\n        return <div></div>;\r\n      }\r\n      return <Component />\r\n    }} />\r\n  );\r\n}\r\n\r\nexport default SecuredRoute;","import React, { Component } from 'react';\nimport { Route, withRouter, Redirect } from 'react-router-dom';\nimport NavBar from \"./NavBar\"\nimport Home from \"./Home/Home\"\nimport Callback from \"./Callback\"\nimport Saved from \"./Saved/Saved\"\nimport Search from \"./Search/Search\"\nimport SecuredRoute from \"./SecuredRoute/SecuredRoute\"\nimport auth0Client from './Auth';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkingSession: true,\n    }\n  }\n\n  \n  async componentDidMount() {\n    if (this.props.location.pathname === '/callback') {\n      this.setState({ checkingSession: false });\n      return;\n    }\n    try {\n      await auth0Client.silentAuth();\n      this.forceUpdate();\n    } catch (err) {\n      if (err.error !== 'login_required') console.log(err.error);\n    }\n    this.setState({ checkingSession: false });\n  }\n\n  handleSearchClick(){\n    Redirect(\"/search\")\n  }\n  handleSavedClick(){\n    Redirect(\"/saved\")\n  }\n  \n\n  render() {\n    return (\n      <div>\n        <NavBar handleSearchClick={this.handleSearchClick} handleSavedClick={this.handleSearchClick} />\n        <Route exact path='/' component={Home} />\n        <Route exact path='/callback' component={Callback} />\n        <SecuredRoute path='/search'\n          component={Search}\n          checkingSession={this.state.checkingSession} />\n        <SecuredRoute path='/saved'\n          component={Saved}\n          checkingSession={this.state.checkingSession} />\n        \n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}